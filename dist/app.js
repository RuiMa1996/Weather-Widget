"use strict";function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){c=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var myWeatherAPIKey="04901bda849c03c85e34cc2001a5c026",currentWeather=document.querySelector(".current-conditions"),forecastWeather=document.querySelector(".forecast"),dateOfWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function displayLocalWeather(t){currentWeather.innerHTML="",currentWeather.insertAdjacentHTML("afterbegin",'\n    <h2>Current Conditions</h2>\n    <img src="http://openweathermap.org/img/wn/'.concat(t.weather[0].icon,'@2x.png"/>\n    <div class="current">\n      <div class="temp">').concat(tempConvert(t.main.temp),'℃</div>\n      <div class="condition">').concat(t.weather[0].description,"</div>\n    </div>\n  "))}function tempConvert(t){return Math.round(t-273.15)}function displayForecast(t){var e,r={},n=_createForOfIteratorHelper(t.list);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.dt_txt.includes(a.dt_txt.substring(0,11))&&(void 0===r[convertTime(a.dt_txt)]?r[convertTime(a.dt_txt)]=[a]:r[convertTime(a.dt_txt)].push(a))}}catch(t){n.e(t)}finally{n.f()}var o="";for(var c in r){var i=new Date,s=[],u=[];if(c!==dateOfWeek[i.getDay()]){o+='\n      <div class="day">\n        <h3>'.concat(c,'</h3>\n        <img src="http://openweathermap.org/img/wn/').concat(r[c][4].weather[0].icon,'@2x.png" />\n        <div class="description">').concat(r[c][4].weather[0].description,"</div>\n    ");var d,f=_createForOfIteratorHelper(r[c]);try{for(f.s();!(d=f.n()).done;){var l=d.value;s.push(l.main.temp_max),s.sort(function(t,e){return e-t}),u.push(l.main.temp_min),u.sort(function(t,e){return t-e})}}catch(t){f.e(t)}finally{f.f()}o+=' \n      <div class="temp">\n        <span class="high">'.concat(tempConvert(s[0]),'℃</span>/<span class="low">').concat(tempConvert(u[0]),"℃</span>\n      </div>")}o+="</div>"}forecastWeather.innerHTML="",forecastWeather.insertAdjacentHTML("beforeend",o)}function convertTime(t){var e=new Date(t);return dateOfWeek[e.getDay()]}navigator.geolocation.getCurrentPosition(function(t){var e=t.coords.latitude,r=t.coords.longitude;fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(r,"&appid=").concat(myWeatherAPIKey)).then(function(t){if(t.ok)return t.json();throw new Error("No json found")}).then(function(t){displayLocalWeather(t)}),fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(r,"&appid=").concat(myWeatherAPIKey)).then(function(t){if(t.ok)return t.json();throw new Error("No json found")}).then(function(t){displayForecast(t)})});